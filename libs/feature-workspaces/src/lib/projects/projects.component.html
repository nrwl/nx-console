<div *ngIf="(workspace$ | async) as workspace">
  <ui-entity-docs [docs]="docs$ | async"></ui-entity-docs>
  <mat-list *ngIf="workspace.projects.length > 0; else: empty">
    <ng-container *ngFor="let p of workspace.projects">
      <mat-list-item [ngClass]="p.projectType" [disableRipple]="true">
        <div class="project-type" mat-line>{{ p.projectType }}</div>
        <div class="project-name" mat-line>{{ p.name }}</div>
        <div class="project-root" mat-line *ngIf="p.root">
          <mat-icon>folder_open</mat-icon>
          {{ p.root }}
        </div>
        <div
          fxLayoutWrap
          fxFlex="shrink"
          fxLayout="row"
          fxLayoutGap="12px"
          fxLayoutAlign="end center"
        >
          <button
            *ngFor="let a of p.actions"
            mat-stroked-button
            [routerLink]="a.link"
          >
            {{ a.actionDescription }}
          </button>
        </div>
      </mat-list-item>
      <mat-divider></mat-divider>
    </ng-container>
  </mat-list>
</div>

<ng-template #empty>
  <ui-dialog>
    <img src="assets/code-icon.svg" height="180px" />
    <div class="headline">Your workspace is empty!</div>
    <div class="sub-headline">
      Your workspace seems to be empty. Let's create a new Angular application.
    </div>
    <button
      mat-raised-button
      color="primary"
      routerLink="../generate?filter=application"
    >
      <div fxLayout="row" fxLayoutAlign="center center">
        <mat-icon>code</mat-icon>
        <div>Create a new application</div>
      </div>
    </button>
  </ui-dialog>
</ng-template>

<div class="outer-container">
  <div [@growShrink]="taskAnimationState$ | async" class="tasks-container">
    <div class="task-filter-container" fxLayout="row" fxLayoutAlign="start center">
      <input [placeholder]="filterPlaceholder" #taskFilter fxFlex [formControl]="taskFilterFormControl">
      <mat-icon class="filter-icon" (click)="taskFilter.select()">filter_list</mat-icon>
    </div>
    <mat-selection-list class="task-list" (selectionChange)="selectTask($event.option.selected ? $event.option.value : null)">
      <ng-container *ngIf="(filteredTaskCollections$ | async) as filteredTaskCollections">
        <ng-container *ngFor="let collection of filteredTaskCollections.taskCollections; trackBy: trackByCollectionName">
          <div class="collection-name">
            <mat-divider></mat-divider>
            <h3 matSubheader>{{ collection.collectionName }}</h3>
            <mat-divider></mat-divider>
          </div>
          <mat-list-option [value]="t" role="option" *ngFor="let t of collection.tasks; trackBy: trackByTaskName" [selected]="filteredTaskCollections.selectedTask?.task === t.task">
            {{t.taskName}}
          </mat-list-option>

        </ng-container>
      </ng-container>
    </mat-selection-list>
  </div>

  <div class="nested-outlet-container">
    <ng-content></ng-content>
  </div>
</div>

<mat-toolbar class="title-bar" color="primary" [class.actionable]="contextualActionBarService.contextualActions$ | async">
  <div @fadeIn *ngIf="(contextualActionBarService.contextualActions$ | async) === null" fxLayout="row" fxLayoutAlign="start center">
    <a class="branding" fxLayout="row" fxLayoutAlign="start center" href="/">
      <img alt="Home" height="40" src="/assets/logo-nav@2x.png" title="Home" width="150">
      <span class="site-name">Console</span>
    </a>
    <div class="title" fxLayout="row" fxLayoutGap="16px">
      <ng-container *ngFor="let breadcrumb of (contextualActionBarService.breadcrumbs$ | async); let last = last">
        <span>{{ breadcrumb.title }}</span>
        <span *ngIf="!last">|</span>
      </ng-container>
    </div>
  </div>
  <div @fadeIn *ngIf="(contextualActionBarService.contextualActions$ | async) as contextualActions" fxLayout="row" fxLayoutGap="24px"
    fxLayoutAlign="start center" fxFlex>
    <mat-icon (click)="contextualActionBarService.close.next()" class="exit-action">arrow_back</mat-icon>
    <div class="context-title" fxFlex>
      {{ contextualActions.contextTitle }}
    </div>
    <div class="actions-container" fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="16px">
      <button [disabled]="action.disabled | async" (click)="action.invoke.next()" class="action-button" [matTooltip]="action.name"
        mat-icon-button fxLayout="column" fxLayoutAlign="center" *ngFor="let action of contextualActions.actions">
        <mat-icon class="action-icon">{{ action.icon }}</mat-icon>
      </button>
    </div>
  </div>
</mat-toolbar>
